# 🔒 作業憲章 (WORK_CHARTER)
> 全作業共通の絶対ルール｜最終更新: 2026-02-01

---

## 🚫 絶対禁止

### コード変更
```
❌ show_metric_with_sparkline / display_macro_card / styled_line_chart の引数変更
❌ 既存コードの削除（追加のみ許可）
❌ 変数名・関数名の変更
❌ if文の条件式変更
❌ import文の変更・削除
❌ 複数セクションを1回の編集で変更
❌ 「ついでに」「効率化のため」の改善
```

### データ品質（SOMA事件の教訓）
```
❌ ダミーデータ・ハードコード値の使用
❌ 憶測・推測・概算値の使用
❌ 信頼できないデータソースの使用
❌ APIが取得できない場合に仮の値で代用
```

**鉄則**: 正しいデータ提供元（FRED, Yahoo Finance等）の数字のみ使用。
取得できない指標は「表示しない」が正解。偽データより欠損の方がマシ。

---

## ✅ 必須ルール

### 1. 外科手術的修正
- **追加する箇所以外は1文字も変更しない**
- 1回の編集 = 1セクションのみ
- 編集後すぐに動作確認

### 2. 引き継ぎ（スレッド開始直後に作成）
```
handoffs/HANDOFF_YYYYMMDD_XX.md
```
必須項目: 前スレッドURL / 変更ファイル・行番号 / 完了作業 / git指示

### 3. 問題発生時は即ロールバック
```bash
git checkout -- [変更したファイル]
```

---

## 📋 作業開始宣言（コピペ用）

```
📖 作業憲章確認完了

■ やること
- [具体的な作業内容]

■ やらないこと
- 他ファイルの変更
- 依頼されていない修正
```

---

## 📝 Antigravityへのgit指示（コピペ用）

```
---【git指示】---
git add -A && git commit -m "[作業内容]" && git push
# 失敗時: git commit --no-verify -m "[作業内容]" && git push
---
```

---

## ☑️ 編集後チェック

```
□ 引数を変更していない
□ 1セクションだけ変更した
□ ダミーデータを使っていない
□ 動作確認した
```
